<head>
  <title>sansbias | secure group decision making</title>
  <link href="bootstrap.min.css" rel="stylesheet">
  <link href="main.css" rel="stylesheet">
  <link href="animate.css" rel="stylesheet">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
</head>

<body>
	<nav id="navbar" class="navbar navbar-default">
		<div class="container">
			<!-- Brand and toggle get grouped for better mobile display -->
		    <div class="navbar-header">
		    	<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
		        	<span class="sr-only">Toggle navigation</span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</button>
				<a class="navbar-brand" href="/">sansbias</a>
		    </div>
			<!-- Collect the nav links, forms, and other content for toggling -->
			<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
				<ul class="nav navbar-nav">
			        <li><a href="/addRoom">create room</a></li>
			        <li><a href="/joinRoom">join room</a></li>
			        <li><a href="/about">about</a></li>
			    </ul>
			</div><!-- /.navbar-collapse -->	
		</div>
	</nav>
		{{> renderPage}}
</body>


<!-- renderpage template-->
<template name="renderPage"></template>

<!-- index template-->
<template name="index">
	<div id="index" class="animated fadeIn content">
		<h1 class="title">sansbias</h1>
		<h2 class="subtitle">secure group decision making</h2>
		<hr class="animated zoomIn">
		<div class="button-container">
			<a href="/addRoom" class="large-flat-button">Create A New Room</a>
			<a href="/joinRoom" class="large-flat-button">Join Existing Room</a>
		</div>
	</div>
</template>


<!-- addroom template-->
<template name="addRoom">
	<div class="animated fadeIn content">
		<h1>Create A Room</h1>
		<hr class="full-width">
		<h4>How many choices should there be?</h4>
		<select class="options-count"></select>
		<h4>Type your name</h4>
		<input id="testying" placeholder="Alice Roberts" type="text" class="room-admin" maxlength="40"><br><br>
		<button class="submit flat-button" type="submit" value="submit">Create Room</button>
		<a href="google.com" id="roomID"></a>
	</div>
	<script>
		$(function(){
			var $select = $(".options-count");
			for (i=2;i<=10;i++){
				$select.append($('<option></option>').val(i).html(i))
    		}
		});
	</script>
</template>

<!-- join template-->
<template name="joinRoom">
	<div class="animated fadeIn content">
		<h1>Join An Existing Room</h1>
		<hr class="full-width">
		<h4>Enter Your Room Code</h4>
		<input placeholder="e.g. 2544Cm!zjAEnmi3ga" type="text" class="joinID" value={{getId}}>
		<h4>Enter Your Name</h4>
		<input placeholder="Alice Roberts" type="text" class="memberName"><br><br>
		<button class="submit flat-button" type="submit" value="submit">Join Room</button>
	</div>
</template>

<!-- display template-->
<template name="displayRoom">
	<div class="animated fadeIn content">
		<h1 class="title">Welcome Your Room</h1>
		<div id="roomInfo">
			<h3>Enter a Number 1 - {{options}}:</h3>
			<input placeholder="e.g. 1" class="optionsCount" type="number" value="">
			<hr class="left-incomplete">
			<h3>Room Members ( {{roomSize}} Online )</h3>
			<table>
				<tr>
					<th>Name </th>
					<th>Submitted</th>
  				</tr>
  				{{#each roomData}}
  				<tr>
					<td>{{name}}</td>
					<td>{{hashedBits}}</td>
  				</tr>
				{{/each}}
			</table>
			<hr class="left-incomplete">
			<h3>Room Information:</h3> 
			<table>
				<tr>
					<td>Room Administrator:</td>
					<td class="link">{{adminName}}</td>
  				</tr>
  				<tr>
					<td>Your Personal Identifier:</td>
					<td class="link">{{personID}}</td>
  				</tr>
			</table>
			<h3>Final Choice:</h3>
			<h4>{{choice}}</h4>
		</div>
	</div>
	
	<script>
		$(function(){
			var optionsCount = document.getElementsByClassName('.optionsCount').toString();
			
			console.log(optionsCount + ";oij");
			
			var $select = $(".optionsList");
			for (i=2;i<=optionsCount;i++){
				$select.append($('<option></option>').val(i).html(i))
    		}
    		});
	</script>
</template>

<!-- admin template-->
<template name="manageRoom">
	<div class="animated fadeIn content">
		<h1 class="title">Manage Your Room</h1>
		<div id="roomInfo">
			<h3 class="title" id="manage-title">Room Code: {{roomCode}}</h3>
			<h3>Room Information:</h3>
			<table>
				<tr>
					<td>Room Administrator:</td>
					<td class="link">{{adminName}}</td>
  				</tr>
  				<tr>
					<td>Private Admin Key:</td>
					<td class="link"><a target="_blank" href="{{adminKey}}">{{adminKey}}</a></td>
  				</tr>
  				<tr>
					<td>Public Invite Link:</td>
					<td class="link"><a target="_blank" href="{{joinLink}}">{{joinLink}}</a></td>
  				</tr>
			</table>
			<hr class="left-incomplete">
			<h3>Room Members ( {{roomSize}} Online )</h3>
			<table>
				<tr>
					<th>Name</th>
					<th>Submitted</th>
  				</tr>
  				{{#each roomData}}
  				<tr>
					<td>{{name}}</td>
					<td>{{hashedBits}}</td>
  				</tr>
				{{/each}}
			</table>
			<hr class="left-incomplete">
			<h3>Options:</h3>
			<h4>{{options}}</h4>
			<hr class="left-incomplete">
			<h3>Final Choice:</h3>
			<h4>{{choice}}</h4>
			<hr class="left-incomplete">
			<h1 class="title">Admin Tools</h1>
			<hr class="full-width">
		</div>
		<div id="adminTools">
			<button class="closeRoom admin-button" type="closeRoom" id="closeRoom" value="closeRoom">Close Room</button>
			<button class="delete admin-button" type="delete" value="delete">Delete Room</button>
		</div>
	</div>
</template>


<!-- about template-->
<template name="about">
	<div class="animated fadeIn content">
		<h1 class="title">about sansbias</h1>
		<h2 class="subtitle">secure group decision making</h2>
		<hr class="animated zoomIn">
		<p class="about-text">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum molestie nec eros et semper. Aenean sed mauris dignissim, condimentum eros sit amet, fringilla nisi. Etiam viverra diam ut purus suscipit sollicitudin. Integer efficitur felis sit amet erat semper fermentum. Sed laoreet, tellus in aliquam dignissim, libero augue tincidunt magna, nec gravida nisl risus at est. Integer et laoreet libero. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Donec porttitor eu tortor quis iaculis. Aliquam et placerat orci. Morbi aliquam nisi a nibh interdum, et mattis odio lobortis. Duis vel tortor eget nibh mollis tincidunt ut id neque. Phasellus gravida dui libero, vitae dapibus libero pellentesque eu. Vivamus sit amet porta lacus, id interdum purus. Donec porta lobortis pulvinar. Cras ex tellus, ornare eget pretium ac, molestie eu tellus.</p>
	</div>
</template>