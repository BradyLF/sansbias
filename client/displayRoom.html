<!-- display template-->
<template name="displayRoom">
	<div class="animated fadeIn content">
		<h1 class="title">Welcome {{personName}}</h1>
		<div id="roomInfo">
			{{#if showSubmit}}
				<h3>Enter an integer 0 through {{optionsCount}}:</h3>
				<input placeholder="e.g. 0" class="selectedOption" type="number" value="">
				<button class="submit flat-button" type="submit" value="submit">Submit Choice</button>
			{{else}}
				<h3>You have submitted your choice</h3>
				<h3>The verified calculated sum is {{finalSum}}</h3>
				<hr>
			{{/if}}
			<h3>Room Members ( {{roomSize}} Online )</h3>
			<table>
				<tr>
					<th>Name </th>
					<th>Hashed Submission</th>
  				</tr>
  				{{#each roomData}}
  				<tr>
					<td>{{name}}</td>
					<td>{{hashedBits}}</td>
  				</tr>
				{{/each}}
			</table>
			<h3>Room Information:</h3> 
			<table>
				<tr>
					<td>Room Administrator:</td>
					<td class="link">{{adminName}}</td>
  				</tr>
  				<tr>
					<td>Your Personal Identifier:</td>
					<td class="link">{{personID}}</td>
  				</tr>
			</table>
			<br><br><br> <!--This is gross, I know-->
		</div>
		<!--These are essentially reactive method calls to get current information. 
			They don't display anything, but instead trigger other things to be displayed or altered-->
		    {{hasAdminSubmitted}}
		    {{gatherHashes}}
			{{verifyHashes}}
	</div>
	
	<script>
		$(function(){
			var optionsCount = document.getElementsByClassName('.optionsCount').toString();				
			var $select = $(".optionsList");
			for (i=2;i<=optionsCount;i++){
				$select.append($('<option></option>').val(i).html(i))
    		}
    		});
	</script>
</template>